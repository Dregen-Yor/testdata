
<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>xxx - Solved Problems</title>
    <link rel="stylesheet" href="style.css?v=4" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/styles/github-dark.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.css" integrity="sha384-4vvVuv5AO9M/dwZ0pniS3pSke1Mt2rt7NmBGG99nmCaTKty+O+kO5OVwOB1p5DY+" crossorigin="anonymous" />
    <script src="https://cdn.jsdelivr.net/npm/markdown-it@13.0.1/dist/markdown-it.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/lib/common.min.js"></script>
    <script>
      window.MathJax = {
        tex: { inlineMath: [['$', '$'], ['\\(', '\\)']], displayMath: [['$$', '$$'], ['\\[', '\\]']] },
        svg: { fontCache: 'global' }
      };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  </head>
  <body data-mode="solved">
    <header class="container">
      <h1>SDU-ENG - Solved Problems</h1>
            <nav class="nav">
        <a href="/index.html">All Problems</a> |
        <a href="/unsolved.html">Unsolved</a> |
        <a href="/solved.html"><b>Solved</b></a> |
        <a href="/contests.html">Contests</a>
      </nav>
    </header>

    <section class="container card">
      <h2>Git 同步</h2>
      <div class="git-row">
        <input id="commit-msg" type="text" placeholder="提交说明" />
        <button type="button" id="git-pull-btn" class="secondary">获取远程更新</button>
        <button type="button" id="git-push-btn">上传到 GitHub</button>
        <span class="muted">（需先在项目根目录完成 <code>git init</code> 和远程配置）</span>
      </div>
      <pre id="git-log" class="git-log" style="display:none;"></pre>
    </section>


    <!-- Form -->
    <section class="container card">
      <h2>新增 / 编辑 题目</h2>
      <form id="problem-form">
        <input type="hidden" id="pid" />
        <div class="grid">
          <label>标题
            <input id="title" type="text" placeholder="如：CF1234A - Example Problem" required />
          </label>
          <label>链接
            <input id="link" type="url" placeholder="https://codeforces.com/problemset/problem/..." />
          </label>
          <label>来源
            <input id="source" type="text" placeholder="Codeforces / AtCoder / Luogu ..." />
          </label>
          <label>场上通过人数
            <input id="pass_count" type="number" min="0" step="1" placeholder="越多越简单" />
          </label>
          <label>标签(逗号分隔)
            <input id="tags" type="text" placeholder="dp, graph, flow, 数学" />
          </label>
          <label>当前补题人
            <input id="assignee" type="text" placeholder="负责跟进的队员" />
          </label>
          <label>题目状态
            <select id="solved">
              <option value="true" selected>已解决</option>
              <option value="false">未解决</option>
            </select>
          </label>
          <label id="unsolved_stage_wrap">未解决阶段
            <select id="unsolved_stage">
              <option>未看题</option>
              <option>已看题无思路</option>
              <option>知道做法未实现</option>
            </select>
          </label>
          <label id="unsolved_custom_label_wrap">自定义未解决标签
            <input id="unsolved_custom_label" type="text" placeholder="例如：卡在调试 / 等队友反馈" />
          </label>
        </div>
        <label>备注
          <textarea id="notes" rows="3" placeholder="记录思路、坑点、链接补充等"></textarea>
        </label>
        <label>题解（Markdown + LaTeX）
          <textarea id="solution_md" rows="8" placeholder="支持 Markdown、代码块以及数学公式，如 $a^2 + b^2 = c^2$"></textarea>
        </label>
        <div class="solution-actions">
          <button type="button" id="solution-preview-btn" class="secondary">预览题解</button>
        </div>
        <div class="actions">
          <button type="submit" id="submit-btn">保存</button>
          <button type="button" id="reset-btn" class="secondary">重置表单</button>
        </div>
      </form>
    </section>

    <!-- Filters -->
    <section class="container card">
      <h2>筛选 / 搜索</h2>
      <div class="grid grid-4">
        <label>关键词
          <input id="q" type="text" placeholder="标题/来源/标签/备注 搜索" />
        </label>
        <label>排序
          <select id="sort">
            <option value="created_at_desc" selected>按创建时间(新→旧)</option>
            <option value="created_at_asc">按创建时间(旧→新)</option>
            <option value="pass_desc">按通过人数(多→少)</option>
            <option value="pass_asc">按通过人数(少→多)</option>
            <option value="title_asc">按标题(A→Z)</option>
          </select>
        </label>
      </div>
    </section>

    <section class="container">
      <div class="table-wrap">
        <table id="table">
          <thead>
            <tr>
              <th>标题</th>
              <th>来源</th>
              <th>通过人数</th>
              <th>标签</th>
              <th>操作</th>
            </tr>
          </thead>
          <tbody id="tbody"></tbody>
        </table>
      </div>
    </section>

    <div id="solution-modal" class="modal" hidden>
      <div class="modal-content">
        <button type="button" id="solution-modal-close" class="modal-close" aria-label="关闭">×</button>
        <h3 id="solution-modal-title"></h3>
        <div id="solution-modal-body" class="markdown-body"></div>
      </div>
    </div>

    <footer class="container muted">
      <p>数据保存在 <code>data/problems.json</code>（随服务端自动读写）。</p>
    </footer>

    <script src="app2.js?v=3"></script>
  </body>
</html>
